## 테스트 자동화와 Mocha

#### BDD (Behavior Driven Development)

- 테스트, 문서, 예시를 한데 모아놓은 개념

#### 거듭제곱 함수와 명세서

- x를 n번 곱해주는 함수 pow(x, n)를 구현
- 만들어진 산출물을 BDD에선 명세서 또는 짧게 줄여 스펙이라고 부른다.

```
describe("pow", function() {
  it("주어진 숫자의 n 제곱", function() {
    assert.equal(pow(2, 3), 8);
  })
})
```

- 스펙은 3가지 구성요소로 이루어진다.

1. 구현하고자 하는 기능에 대한 설명

   > describe("title", function() { ... })

2. it의 첫 번째 인수엔 특정 유스 케이스에 대한 설명, 두 번째 인수엔 유스 케이스 테스트 함수

   > it("유스 케이스 설명", function() { ... })

3. 기능을 제대로 구현했다면 it 블록 내의 코드 assert.equals(value1, value2)이 에러 없이 실행
   > assert.equal(value1, value2)

#### 개발 순서

1. 명세서 초안을 작성, 초안엔 기본적인 테스트도 들어간다.
2. 명세서 초안을 보고 코드 작성
3. 코드가 작동하는지 확인하기 위해 Mocha를 사용해 명세서 실행을 반복하며 에러가 출력되지 않을때까지 코드를 수정
4. 모든 테스트를 통과하는 코드 초안 완성
5. 명세서에 지금까진 고려하지 않았던 유스케이스 몇가지 추가한다. 이때 테스트가 실패하기 시작
6. 세번째 단계로 돌아가 테스트를 모두 통과할 때까지 코드를 수정
7. 기능이 완성될 때까지 3~6 단계를 반복

#### before/after 와 beforeEach/afterEach

- `before`는 (전체)테스트가 실행되기 전 실행
- `after`는 (전체)테스트가 실행된 후 실행
- `beforeEach`는 it이 실행되기 전 실행
- `afterEach`는 it이 실행된 후 실행

```
테스트를 시작합니다 - 테스트가 시작되기 전          (before)
단일 테스트를 시작합니다 - 각 테스트 시작 전         (beforeEach)
1
단일 테스트를 종료합니다 - 각 테스트 종료 후         (afterEach)
단일 테스트를 시작합니다 - 각 테스트 시작 전         (beforeEach)
2
단일 테스트를 종료합니다 - 각 테스트 종료 후         (afterEach)
테스트를 종료합니다 - 테스트가 종료된 후            (after)
```

## 바벨

- 트랜스파일러로, 모던 자바스크립트 코드를 구 표준을 준수하는 코드로 바꿔준다.

## 폴리필

- 브라우저에서 지원하지 않는 코드를 사용 가능한 코드 조각이나 플러그인으로 변환한 코드를 의미한다. 즉 최신 자바스크립트의 기능을 구식 자바스크립트 코드로 똑같이 구현한 코드를 의미한다.
