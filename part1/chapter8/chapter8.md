## 프로토타입

- 자바스크립트의 객체는 명세서에서 명명한 `[[Prototype]]`이라는 숨김 프로퍼티를 갖는다.
- 값은 `null`이거나 다른 객체에 대한 참조가 되는데, 다른 객체를 참조하는 경우 참조 대상을 프로토타입이라 부른다.
- `object`에서 프로퍼티를 읽으려고 하는데 해당 프로퍼티가 없으면 자동으로 프로토타입에서 프로퍼티를 찾는다, 이런 동작방식을 `프로토타입 상속`이라 부른다.
- `__proto__`을 사용하면 값을 설정할 수 있다.
- `__proto__`는 `[[Prototype]]`용 getter·setter입니다.

```
let animal = {
  eats: true
};
let rabbit = {
  jumps: true
};

rabbit.__proto__ = animal;
```

- `__proto__`를 사용할 순 있지만 비교적 근래에 작성된 스크립트에선 `__proto__` 대신 함수 `Object.getPrototypeOf`나 `Object.setPrototypeOf`을 써서 프로토타입을 획득(get)하거나 설정(set)한다.
- 프로토타입은 프로퍼티를 읽을때만 사용한다.
  > 프로퍼티를 추가, 수정하거나 지우는 연산은 객체에 직접 해야한다.
- `this`는 프로토타입에 영향을 받지 않는다.
  > 메서드를 객체에서 호출했든 프로토타입에서 호출했든 상관없이 this는 언제나 . 앞에 있는 객체

#### 프로토타입 체이닝

- 순환참조는 허용되지 않는다. `__proto__`를 이용해 닫힌 형태로 다른객체를 참조하면 에러가 발생한다.
- `__proto__`의 값은 객체나 `null`만 가능하다. 다른 자료형은 무시된다.

#### 함수의 prototype 프로퍼티

- 생성자 함수에 기본으로 세팅되는 프로퍼티(`F.prototype`)는 `[[ProtoType]]`과 다르다. `F.prototype`은 `new F()`를 호출할 때 만들어지는 새로운 객체의 `[[Prototype]]`을 설정한다
- `F.prototype`의 값은 객체나 null만 가능합니다. 다른값은 무시된.
- 모든 함수는 기본적으로 `F.prototype = { constructor : F }`를 가지고 있으므로 `constructor`프로퍼티를 사용하면 객체의 생성자를 얻을수 있다.
